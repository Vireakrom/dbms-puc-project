{% extends "admin/admin_base.html" %}

{% block title %}Manage Grades{% endblock %}
{% block header_title %}Grade Management{% endblock %}

{% block content %}

<!-- TOP FILTERS (teacher + year only) -->
<div class="d-flex justify-content-end mb-4 gap-3">
    <select class="form-select filter-select">
        <option selected>Filter by Teacher</option>
        <option>Teacher A</option>
        <option>Teacher B</option>
        <option>Teacher C</option>
    </select>

    <select class="form-select filter-select">
        <option selected>Filter by Year</option>
        <option>2023</option>
        <option>2024</option>
        <option>2025</option>
    </select>
</div>

<div class="grade-board">

    <!-- =================== GRADE 7 =================== -->
    <div class="grade-column">

        <div class="grade-header-full mb-2">
            <h5 class="column-title m-0 text-center w-100">Grade 7</h5>
        </div>

        <div class="d-flex justify-content-end mb-3">
            <select class="form-select class-filter">
                <option selected>Class: All</option>
                <option>A</option>
                <option>B</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
            </select>
        </div>

        <!-- Class 7A -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 7A</h6>
            <p><b>Students:</b> 45</p>
            <p><b>Teacher:</b> Mr. John</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 12 Mar 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='7', class_name='A') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 7B -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 7B</h6>
            <p><b>Students:</b> 38</p>
            <p><b>Teacher:</b> Ms. Lina</p>
            <p><b>Status:</b> <span class="text-warning fw-bold">Pending</span></p>
            <p><b>Upcoming Test:</b> Not Scheduled</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='7', class_name='B') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 7C -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 7C</h6>
            <p><b>Students:</b> 42</p>
            <p><b>Teacher:</b> Mr. Andrew</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 5 Apr 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='7', class_name='C') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <button class="add-card-btn">+</button>
    </div>

    <!-- =================== GRADE 8 =================== -->
    <div class="grade-column">

        <div class="grade-header-full mb-2">
            <h5 class="column-title m-0 text-center w-100">Grade 8</h5>
        </div>

        <div class="d-flex justify-content-end mb-3">
            <select class="form-select class-filter">
                <option selected>Class: All</option>
                <option>A</option>
                <option>B</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
            </select>
        </div>

        <!-- Class 8A -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 8A</h6>
            <p><b>Students:</b> 52</p>
            <p><b>Teacher:</b> Mr. Kevin</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 25 Feb 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='8', class_name='A') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 8B -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 8B</h6>
            <p><b>Students:</b> 41</p>
            <p><b>Teacher:</b> Ms. Sarah</p>
            <p><b>Status:</b> <span class="text-warning fw-bold">Ongoing</span></p>
            <p><b>Upcoming Test:</b> 5 Apr 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='8', class_name='B') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 8C -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 8C</h6>
            <p><b>Students:</b> 44</p>
            <p><b>Teacher:</b> Mr. Ethan</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 30 Apr 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='8', class_name='C') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <button class="add-card-btn">+</button>
    </div>

    <!-- =================== GRADE 9 =================== -->
    <div class="grade-column">

        <div class="grade-header-full mb-2">
            <h5 class="column-title m-0 text-center w-100">Grade 9</h5>
        </div>

        <div class="d-flex justify-content-end mb-3">
            <select class="form-select class-filter">
                <option selected>Class: All</option>
                <option>A</option>
                <option>B</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
            </select>
        </div>

        <!-- Class 9A -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 9A</h6>
            <p><b>Students:</b> 47</p>
            <p><b>Teacher:</b> Mrs. Monica</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 19 Mar 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='9', class_name='A') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 9B -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 9B</h6>
            <p><b>Students:</b> 36</p>
            <p><b>Teacher:</b> Mr. Ray</p>
            <p><b>Status:</b> <span class="text-warning fw-bold">Pending</span></p>
            <p><b>Upcoming Test:</b> Not Scheduled</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='9', class_name='B') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <!-- Class 9C -->
        <div class="grade-card">
            <div class="card-header-line"></div>
            <h6 class="fw-bold mb-2">Class 9C</h6>
            <p><b>Students:</b> 40</p>
            <p><b>Teacher:</b> Mr. Leo</p>
            <p><b>Status:</b> <span class="text-success fw-bold">Active</span></p>
            <p><b>Upcoming Test:</b> 8 Apr 2025</p>

            <div class="subject-box mt-3">
                <p class="fw-bold mb-2 text-center">Subjects</p>
                <div class="subject-tags justify-content-center">
                    <span class="subject-pill subject-yellow">ICT</span>
                    <span class="subject-pill subject-yellow">Mathematics (Maths)</span>
                    <span class="subject-pill subject-yellow">Khmer Language</span>
                    <span class="subject-pill subject-yellow">English</span>
                    <span class="subject-pill subject-yellow">Physics</span>
                    <span class="subject-pill subject-yellow">Chemistry</span>
                    <span class="subject-pill subject-yellow">Biology</span>
                    <span class="subject-pill subject-yellow">Earth Science</span>
                    <span class="subject-pill subject-yellow">History</span>
                    <span class="subject-pill subject-yellow">Geography</span>
                    <span class="subject-pill subject-yellow">Civics / Morality</span>
                    <span class="subject-pill subject-yellow">Physical Education</span>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-2 mt-3">
                <a href="{{ url_for('class_results', grade='9', class_name='C') }}" class="btn result-btn">Result</a>
                <a href="{{ url_for('assign_test') }}" class="assign-btn text-center">Exam</a>
            </div>
        </div>

        <button class="add-card-btn">+</button>
    </div>

</div>

<style>

.filter-select {
    width: 170px;
    border-radius: 10px;
}

.grade-board {
    display: flex;
    justify-content: center;
    gap: 25px;
    flex-wrap: wrap;
}

.grade-column {
    background: #f7f9ff;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    min-width: 350px;
    max-width: 380px;
    display: flex;
    flex-direction: column;
}

.grade-header-full {
    width: 100%;
    background: #e8efff;
    padding: 10px;
    border-radius: 10px;
}

/* Class filter */
.class-filter {
    width: 110px;
    border-radius: 8px;
    font-size: 14px;
}

/* Card */
.grade-card {
    background: white;
    padding: 22px;
    border-radius: 12px;

    border: 3px solid #0097e6 !important;

    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    margin-bottom: 18px;
}

.card-header-line {
    width: 60px;
    height: 4px;
    background: #0097e6;
    border-radius: 10px;
    margin-bottom: 10px;
}

/* Assign Test Button */
.assign-btn {
    background: #0097e6;
    color: white;
    padding: 10px 30px;
    border-radius: 10px;
    font-weight: 600;
    text-decoration: none;
}
.assign-btn:hover { background: #0080c4; }

/* Result Button */
.result-btn {
    background: #f39c12;
    color: white;
    padding: 10px 30px;
    border-radius: 10px;
    font-weight: 600;
    text-decoration: none;
}
.result-btn:hover { background: #d98a0e; }

/* Add Card */
.add-card-btn {
    margin-top: auto;
    background: #dbeafe;
    border: none;
    width: 100%;
    padding: 16px 0;
    border-radius: 12px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}
.add-card-btn:hover { background: #bfdbfe; }

/* Subjects */
.subject-box {
    background: #f1f5ff;
    padding: 12px;
    border-radius: 12px;
}

.subject-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    justify-content: center;
}

.subject-pill {
    padding: 2px 5px;
    background: #fff7a3;
    border-radius: 10px;
    font-weight: 700;
    color: #6b5800;
    font-size: 16px;
    line-height: 1;
}

.subject-yellow {
    background: #fff7a3;
}
.grade-card p {
    margin-bottom: 4px !important;   
    line-height: 1.2;                
}

</style>

{% endblock %}
